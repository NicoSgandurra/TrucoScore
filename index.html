<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Contador de Truco</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'pastel-bg': '#F8F9FA',
                        'pastel-blue': '#B4D6E6', // Soft pastel blue
                        'pastel-pink': '#FFC4D6', // Soft pastel pink
                        'text-dark': '#333333',
                    },
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-pastel-bg h-screen w-full overflow-hidden flex flex-col md:flex-row select-none">

    <!-- Nosotros Section (Left/Top) -->
    <div id="nosotros-area"
        class="h-1/2 md:h-full md:w-1/2 bg-pastel-blue flex flex-col justify-center items-center cursor-pointer transition-colors hover:bg-opacity-90 active:scale-[0.98] transform duration-100 touch-manipulation relative overflow-hidden">

        <!-- Header Wrapper (Name Only) -->
        <div class="absolute top-6 left-6 flex flex-col items-start z-20 pointer-events-auto">
            <div id="name-nosotros"
                class="text-xl md:text-2xl font-bold uppercase tracking-widest text-slate-700/60 p-2 -ml-2 rounded hover:bg-black/5 transition-colors focus:bg-white/80 focus:text-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-400">
                Nosotros</div>
        </div>

        <div class="flex flex-col items-center z-10 pointer-events-none">
            <div id="nosotros-status"
                class="text-xs md:text-sm font-bold uppercase tracking-wide text-slate-700/40 mb-2 h-4 hidden">Malas
            </div>
            <div id="score-nosotros"
                class="text-[8rem] md:text-[12rem] font-bold leading-none text-slate-800 tabular-nums transition-transform duration-100 will-change-transform">
                0</div>
            <div id="dots-nosotros" class="flex flex-wrap justify-center gap-4 mt-8 min-h-[4rem] px-4">
                <!-- Dots will be injected here -->
            </div>
        </div>
    </div>

    <!-- Ellos Section (Right/Bottom) -->
    <div id="ellos-area"
        class="h-1/2 md:h-full md:w-1/2 bg-pastel-pink flex flex-col justify-center items-center cursor-pointer transition-colors hover:bg-opacity-90 active:scale-[0.98] transform duration-100 touch-manipulation relative overflow-hidden">

        <!-- Header Wrapper (Name Only) -->
        <div
            class="absolute top-6 left-6 md:left-auto md:right-6 flex flex-col items-start md:items-end z-20 pointer-events-auto">
            <div id="name-ellos"
                class="text-xl md:text-2xl font-bold uppercase tracking-widest text-slate-700/60 p-2 -ml-2 md:-mr-2 md:ml-0 rounded hover:bg-black/5 transition-colors focus:bg-white/80 focus:text-slate-800 focus:outline-none focus:ring-2 focus:ring-slate-400">
                Ellos</div>
        </div>

        <div class="flex flex-col items-center z-10 pointer-events-none">
            <div id="ellos-status"
                class="text-xs md:text-sm font-bold uppercase tracking-wide text-slate-700/40 mb-2 h-4 hidden">Malas
            </div>
            <div id="score-ellos"
                class="text-[8rem] md:text-[12rem] font-bold leading-none text-slate-800 tabular-nums transition-transform duration-100 will-change-transform">
                0</div>
            <div id="dots-ellos" class="flex flex-wrap justify-center gap-4 mt-8 min-h-[4rem] px-4">
                <!-- Dots will be injected here -->
            </div>
        </div>
    </div>

    <!-- Controls Overlay (Reset via Modal/Button) -->
    <div class="absolute bottom-6 md:bottom-8 w-full flex justify-center pointer-events-none z-20">
        <button id="reset-btn"
            class="bg-white/80 backdrop-blur-sm shadow-lg text-slate-600 px-6 py-2 rounded-full text-sm font-bold uppercase tracking-wide hover:bg-white pointer-events-auto active:scale-95 transition-all">
            Reiniciar
        </button>
    </div>

    <!-- Startup / Game Mode Modal -->
    <div id="setup-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm">
        <div class="bg-white p-8 rounded-2xl shadow-2xl flex flex-col items-center gap-6 max-w-sm w-full mx-4">
            <h2 class="text-2xl font-bold text-slate-800">Copa Truco</h2>
            <p class="text-slate-500">¿A cuántos puntos?</p>
            <div class="flex gap-4 w-full">
                <button data-limit="15"
                    class="mode-btn flex-1 py-4 bg-slate-100 rounded-xl font-bold text-xl text-slate-700 hover:bg-slate-200 transition-colors">15</button>
                <button data-limit="30"
                    class="mode-btn flex-1 py-4 bg-slate-100 rounded-xl font-bold text-xl text-slate-700 hover:bg-slate-200 transition-colors">30</button>
            </div>
        </div>
    </div>

    <!-- Winner Overlay -->
    <div id="winner-modal"
        class="fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-md hidden transition-opacity duration-300 opacity-0 pointer-events-none">
        <div class="bg-white p-10 rounded-3xl shadow-2xl flex flex-col items-center gap-4 animate-bounce-in">
            <div id="winner-text" class="text-4xl font-bold text-slate-800 mb-2">GANADOR</div>
            <p id="winner-team" class="text-2xl text-slate-600 uppercase tracking-widest mb-6">Nosotros</p>
            <button id="new-game-btn"
                class="bg-slate-800 text-white px-8 py-3 rounded-full font-bold hover:bg-slate-700 transition-colors shadow-lg">
                Nueva Partida
            </button>
        </div>
    </div>

    <!-- Reset Confirmation Modal -->
    <div id="reset-modal"
        class="fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm hidden opacity-0 transition-opacity duration-200 pointer-events-none">
        <div
            class="bg-white p-8 rounded-2xl shadow-2xl flex flex-col items-center gap-6 max-w-sm w-full mx-4 animate-bounce-in">
            <h2 class="text-2xl font-bold text-slate-800">¿Reiniciar?</h2>
            <p class="text-slate-500 text-center">Se perderá el progreso actual.</p>
            <div class="flex gap-4 w-full">
                <button id="cancel-reset-btn"
                    class="flex-1 py-3 bg-slate-100 rounded-xl font-bold text-slate-600 hover:bg-slate-200 transition-colors">Cancelar</button>
                <button id="confirm-reset-btn"
                    class="flex-1 py-3 bg-slate-800 rounded-xl font-bold text-white hover:bg-slate-700 transition-colors shadow-lg">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="main.js"></script>
</body>

</html>